import {
  ProgressDonutExample,
  ProgressDonutMin,
  ProgressDonutMinData,
  ProgressDonutText,
  ProgressDonutText45,
  ProgressDonutTitle,
  ProgressDonut120,
  ProgressDonutText120,
  ProgressDonutTop,
  ProgressDonutLeft,
  ProgressDonutRight,
  ProgressDonutBottom,
  ProgressDonutTooltip
} from './examples/ProgressDonutExample'

# ProgressDonut

Эта диаграмма нужна, чтобы показать показать процент выполнения плана.

<ProgressDonutExample />

- [Данные и цвета](#данные-и-цвета)
- [Текст](#текст)
  - [Числа](#числа)
  - [Заголовок](#заголовок)
- [Тултип](#тултип)
- [Половина круга](#половина-крагу)
- [Список свойств](#свойства)
- [Пример использования](#пример)

## Данные и цвета

За данные отвечает объект `data`. Внутри:

- `value` — прогресс, который нужно показать на диаграмме,
- `valueMin` — значение, с которого начинается отсчет,
- `valueMax` — план, к которому мы стремимся.

```ts
// data
{
  {
    value: 30,
    valueMin: 0,
    valueMax: 100,
  }
}
```

Цвет задается в массиве `colors`. Первый цвет отмечает прогресс,
второй — превышение плана (если выполнено больше 100%).

```ts
// colors
['var(--color-bg-normal)', 'var(--color-bg-success)']
```

| Прогресс 30%             | `data` не указана    | `value: 120`         |
| ------------------------ | -------------------- | -------------------- |
| <ProgressDonutMinData /> | <ProgressDonutMin /> | <ProgressDonut120 /> |

## Текст

### Числа

Чтобы показать числа из объекта `data`, добавьте `showText`. Если не добавите,
все значения будут видны в [тултипе](#тултип).

<ProgressDonutText />

Если выполнено больше 100% плана (`value: 120`), на диаграмме будет 100%.

<ProgressDonutText120 />

Размер текста можно поменять в свойстве `valueSize`. Вы указываете размер основного числа в пикселях,
размеры остальных надписей меняются вместе с ним.

По умолчанию размер числа рассчитывается автоматически — так, чтобы текст идеально
помещался в окружность. От него завист размер остального текста.

<ProgressDonutText45 />

```ts
valueSize={10}
```

### Заголовок

Заголовок показывает, что мы сравниваем. За него отвечает свойство `title`.

Чтобы показать заголовок, добавьте `showTitle` (работает вместе с `showText`).

<ProgressDonutTitle />

## Тултип

Если вы решите не показывать текст на диаграмме (`showText=false` или не указано),
значения будут видны в тултипе — он показывается при наведении на диаграмму.

<ProgressDonutTooltip />


## Половина круга

Вместо круговой диаграммы можно показать полукруг (пропорции значений сохраняются).
За это отвечает свойство `halfDonut`. Варианты: `'top'`, `'left'`, `'right'`, `'bottom'`.

| `halfDonut="top"`    | `halfDonut="bottom"`    |
| -------------------- | ----------------------- |
| <ProgressDonutTop /> | <ProgressDonutBottom /> |

| `halfDonut="left"`    | `unitPosition="right"` |
| --------------------- | ---------------------- |
| <ProgressDonutLeft /> | <ProgressDonutRight /> |

## Свойства

<!-- props:start -->

| Свойство                        | Тип                                | По умолчанию | Описание                                         |
| ------------------------------- | ---------------------------------- | ------------ | ------------------------------------------------ |
| [`title`](#заголовок)           | `string`                           | -            | Заголовок                                        |
| [`data?`](#данные-и-цвета)      | `Data`                             | -            | Объект с описанием текста                        |
| [`colors`](#данные-и-цвета)     | `Colors`                           | -            | Массив с описанием цветов для круга              |
| [`showText?`](#текст)           | `boolean`                          | -            | Показывает текст                                 |
| [`showTitle?`](#заголовок)      | `boolean`                          | -            | Показывает заголовок. Работает, если указан `showText`                          |
| [`valueSize?`](#числа)          | `number`                           | -            | Размер текста (примерный размер основного числа) |
| [`halfDonut?`](#половина-круга) | `'top', 'left', 'right', 'bottom'` | -            | Показывает половину круга                        |

### Data

| Свойство                               | Тип      | По умолчанию | Описание          |
| -------------------------------------- | -------- | ------------ | ----------------- |
| [`value?`](#данные-и-цвета)            | `number` | -            | Число             |
| [`valuePlaceholder?`](#данные-и-цвета) | `string` | -            | Текст, которым можно заменить число, если нет данных. Отображается, если `showText=true` |
| [`valueMin?`](#данные-и-цвета)         | `number` | -            | Точка отсчета     |
| [`valueMax?`](#данные-и-цвета)         | `number` | -            | План              |

## Пример

```tsx
import { ProgressDonut } from '@consta/widgets/ProgressDonut'

<ProgressDonut
  title="заголовок"
  data={{
    value: 30,
    valueMin: 0,
    valueMax: 100,
  }}
  colors={['var(--color-bg-normal)', 'var(--color-bg-success)']}
  showText
  showTitle
/>
```
